{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}  
Observe posts
{% endblock %}

{% block content %}
<h1>Post list</h1>

<div class="row">
<div class="col s8 push-s2">
<div class="card">
    <div class="card-image">
        <img class="responsive-img card-image" src={{post.image.url}} alt="{{post.content}}"/>
        <span class="card-title">
            Shared by {{ post.user.username }}
        </span>
    </div>
    <div class="card-content">
        <p>
            {% for word in post.get_content_by_word %}
                {% if word in post.get_tags_by_word %}
                <a href="{% url "tags-detail" word|slice:"1:" %}">{{word}}</a>
                {% else %}
                    {{word}}
                {% endif %}

            {% endfor %}
        </p>
        <p>
        {% for tag in post.tag_set.all %}
        {{ tag  }}
        {% endfor %}
        </p>
    </div>
    <div class="card-action">
        <p>Liked by {{ post.like_user_set.count }}</p>
        <p>
        <a href="">LIKE!!</a>
        </p>
    </div>
</div>
</div>
</div>

<div class="row">
    <div class="col s8 push-s2">
        <div id="comment" data-post-id="{{post.id}}"> Comments </div>
            <p>Commented by {{request.user.username }}</p>
            <textarea id="comment" name="content" required></textarea>
            <input id="submit" class="submit" type="submit" value="Share comment">
    </div>
</div>



{% endblock %}

{% block js %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="{% static "vanityfair/js/detail.js" %}" type="text/javascript"></script>
{% endblock %}
